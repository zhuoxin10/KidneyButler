<!-- 任务视图中的列表-tab -->
<ion-view view-title='任务'>
<ion-nav-buttons side="primary">
<!-- class="icon ion-qr-scanner" -->
        <a class="button icon-left ion-qr-scanner button-clear" ng-click="scanbarcode()"></a> 
        <a class="button icon-left ion-ios-refresh-empty button-clear" ng-click="Refresh()"></a> 
    </ion-nav-buttons>
    
  <div  style="position: absolute;top: 43px;z-index:100;display: block;height: 2.5px;background-color: #33cd5f;{{barwidth}}" ></div>
    <ion-content class="padding">
        <div class="list">
            <a class="item" style="font-size:20px;text-align:center;font-weight:bold;background-color:rgba(44, 62, 149, 0.1);">
                测量
                <a class="item item-icon-right" ng-repeat="item in Tasks.Measure">
                    {{item.Name}} 
                    <p>{{item.Freq}}</p>
                    <p>{{item.instruction}}</p> 
                    <i ng-if = "!item.Flag" class="icon ion-edit" style="font-size:20px" ng-click = "showPopup(item, 'input')"></i>
                    <i ng-if = "item.Flag" class="icon ion-ios-checkmark-empty"></i> 
                </a>              
            </a>
            <a class="item" style="font-size:20px;text-align:center;font-weight:bold;background-color:rgba(44, 62, 149, 0.1);">
                其他 <button ng-click = "openModal()">查看医生排班</button>
                <a class="item item-icon-right" ng-repeat = "item in Tasks.Other">
                    {{item.Name}}
                    <p>{{item.Freq}}</p> 
                    <p>任务时间：{{item.startTime}}</p>
                    <p>{{item.instruction}}</p>                  
                    <i ng-if = "!item.Flag" class="icon ion-edit" style="font-size:20px" ng-click = "showPopup(item, 'textarea')"></i>
                    <i ng-if = "item.Flag" class="icon ion-ios-checkmark-empty"></i>                 
                </a>                        
            </a>                  
        </div>    
        <!-- <button ng-click="Test()">测试</button>
        <h>{{TestTime}}</h> -->
    </ion-content> 
    <script id="templates/modal.html" type="text/ng-template">
      <ion-modal-view>      
        <ion-content class="padding">
          <table style="border: solid 1px rgba(82, 83, 84, 0.3);width:100%;cellpadding:20;margin-top:50%;">
          <caption>医生排班表</caption>
            <tr style="border: solid 1px rgba(82, 83, 84, 0.3);height:30px;">
                <th colspan="2"></th>
                <td style="background-color:rgba(76, 175, 80, 0.39)"></td>
                <td>正常</td>
                <td style="background-color:rgba(128, 128, 128, 0.27)"></td>
                <td>停诊</td>
                <th colspan="2"></th>
            </tr>
            <tr style="border: solid 1px rgba(82, 83, 84, 0.3);height:30px;">
                <td></td><td ng-repeat="item in Docweek">{{item}}</td>
            </tr>
            <tr style="border: solid 1px rgba(82, 83, 84, 0.3); height:30px;">
                <td>上午</td>
                <td style="background-color:rgba(128, 128, 128, 0.27)"></td>
                <td style="background-color:rgba(76, 175, 80, 0.39)"></td>
                <td style="background-color:rgba(76, 175, 80, 0.39)"></td>
                <td style="background-color:rgba(128, 128, 128, 0.27)"></td>
                <td style="background-color:rgba(76, 175, 80, 0.39)"></td>
                <td style="background-color:rgba(128, 128, 128, 0.27)"></td>
                <td style="background-color:rgba(76, 175, 80, 0.39)"></td>
            </tr>
            <tr style="border: solid 1px rgba(82, 83, 84, 0.3);height:30px;">
                <td>下午</td>
                <td style="background-color:rgba(76, 175, 80, 0.39)"></td>
                <td style="background-color:rgba(128, 128, 128, 0.27)"></td>
                <td style="background-color:rgba(76, 175, 80, 0.39)"></td>
                <td style="background-color:rgba(128, 128, 128, 0.27)"></td>
                <td style="background-color:rgba(76, 175, 80, 0.39)"></td>
                <td style="background-color:rgba(128, 128, 128, 0.27)"></td>
                <td style="background-color:rgba(128, 128, 128, 0.27)"></td>
            </tr>                   
        </table>
        <button class="button button-full button-positive" ng-click="modal.hide()">返回</button>
        </ion-content>
      </ion-modal-view>
    </script>
</ion-view>
